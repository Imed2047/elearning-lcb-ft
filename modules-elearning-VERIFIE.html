<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formation LCB-FT - 90 Modules</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root{--primary:#1e3a8a;--secondary:#3b82f6;--success:#10b981;--warning:#f59e0b;--danger:#ef4444;--dark:#1f2937;--light:#f8fafc;--border:#e2e8f0;}*{margin:0;padding:0;box-sizing:border-box;}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;line-height:1.6;color:var(--dark);background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%);min-height:100vh;}.container{max-width:1400px;margin:0 auto;padding:0 20px;}header{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:white;padding:1.5rem 0;position:sticky;top:0;z-index:1000;box-shadow:0 4px 6px rgba(0,0,0,.1);}.header-content{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;}.logo{font-size:1.8rem;font-weight:bold;display:flex;align-items:center;gap:10px;}nav ul{display:flex;list-style:none;gap:2rem;flex-wrap:wrap;}nav a{color:white;text-decoration:none;padding:.5rem 1rem;border-radius:25px;transition:all .3s;}nav a:hover{background:rgba(255,255,255,.2);}.hero{background:linear-gradient(rgba(30,58,138,.9),rgba(30,58,138,.9));color:white;padding:4rem 0;text-align:center;margin-bottom:2rem;}.hero h1{font-size:3rem;margin-bottom:1rem;}.progress-section{background:white;padding:2rem;border-radius:15px;margin-bottom:2rem;box-shadow:0 4px 6px rgba(0,0,0,.1);}.progress-bar-container{background:var(--border);height:20px;border-radius:10px;overflow:hidden;margin-bottom:1rem;}.progress-bar{background:linear-gradient(90deg,var(--success),var(--secondary));height:100%;width:0%;transition:width .5s ease;}.sections-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:2rem;margin-bottom:3rem;}.section-card{background:white;border-radius:15px;padding:2rem;box-shadow:0 4px 6px rgba(0,0,0,.1);transition:transform .3s;}.section-card:hover{transform:translateY(-5px);}.section-header{border-bottom:3px solid var(--secondary);padding-bottom:1rem;margin-bottom:1.5rem;}.section-header h2{font-size:1.5rem;color:var(--primary);}.modules-list{display:grid;gap:1rem;max-height:600px;overflow-y:auto;}.module-item{background:var(--light);padding:1rem;border-radius:10px;border-left:4px solid var(--secondary);cursor:pointer;transition:all .3s;}.module-item:hover{background:#e0f2fe;transform:translateX(5px);box-shadow:0 2px 4px rgba(0,0,0,.1);}.module-item.completed{border-left-color:var(--success);background:#f0fdf4;}.difficulty-badge{display:inline-block;padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:bold;text-transform:uppercase;}.beginner{background:#d1fae5;color:#065f46;}.intermediate{background:#fef3c7;color:#92400e;}.expert{background:#fee2e2;color:#991b1b;}.modal{display:none;position:fixed;z-index:2000;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,.7);backdrop-filter:blur(5px);}.modal.show{display:flex;align-items:center;justify-content:center;}.modal-content{background:white;border-radius:20px;width:95%;max-width:1200px;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px rgba(0,0,0,.3);}.modal-header{background:linear-gradient(135deg,var(--primary),var(--secondary));color:white;padding:2rem;border-radius:20px 20px 0 0;display:flex;justify-content:space-between;align-items:flex-start;}.modal-header h2{flex:1;}.close{font-size:2rem;cursor:pointer;color:white;border:none;background:none;}.modal-body{padding:2rem;}.content-section{background:var(--light);padding:1.5rem;border-radius:10px;margin-bottom:1.5rem;}.content-section h3{color:var(--primary);margin-bottom:1rem;border-bottom:2px solid var(--secondary);padding-bottom:.5rem;display:flex;align-items:center;gap:.5rem;}.definitions-grid{display:grid;gap:1rem;}.definition-item{background:white;padding:1rem;border-radius:8px;border-left:3px solid var(--secondary);}.definition-term{font-weight:bold;color:var(--primary);margin-bottom:.5rem;}.redflags-list{display:grid;gap:1rem;}.redflag-item{background:white;padding:1rem;border-radius:8px;display:flex;align-items:flex-start;gap:1rem;}.redflag-item.high{border-left:4px solid var(--danger);}.redflag-item.medium{border-left:4px solid var(--warning);}.quiz-section{margin-top:2rem;}.question-card{background:white;padding:2rem;border-radius:10px;margin-bottom:2rem;box-shadow:0 4px 6px rgba(0,0,0,.1);}.question-text{font-size:1.1rem;font-weight:600;color:var(--dark);margin-bottom:1.5rem;padding:1rem;background:var(--light);border-radius:8px;}.options-grid{display:grid;gap:1rem;}.option-label{display:flex;align-items:center;padding:1rem;background:var(--light);border:2px solid var(--border);border-radius:8px;cursor:pointer;transition:all .3s;}.option-label:hover{border-color:var(--secondary);transform:translateX(5px);}.option-label input[type="radio"]{margin-right:1rem;width:20px;height:20px;cursor:pointer;}.option-label.selected{background:#dbeafe;border-color:var(--secondary);}.option-label.correct{background:#d1fae5;border-color:var(--success);}.option-label.incorrect{background:#fee2e2;border-color:var(--danger);}.explanation-box{margin-top:1rem;padding:1rem;background:#f0f9ff;border-left:4px solid var(--secondary);border-radius:8px;}.quiz-controls{display:flex;justify-content:space-between;align-items:center;margin-top:2rem;padding-top:2rem;border-top:2px solid var(--border);flex-wrap:wrap;gap:1rem;}.btn{padding:.75rem 2rem;border-radius:50px;border:none;font-weight:600;cursor:pointer;transition:all .3s;display:inline-flex;align-items:center;gap:.5rem;font-size:1rem;}.btn-primary{background:var(--secondary);color:white;}.btn-primary:hover:not(:disabled){background:var(--primary);transform:translateY(-2px);}.btn-outline{background:transparent;color:var(--primary);border:2px solid var(--primary);}.btn-outline:hover:not(:disabled){background:var(--primary);color:white;}.btn:disabled{opacity:.5;cursor:not-allowed;}.score-display{font-size:1.3rem;font-weight:bold;color:var(--success);}.results-section{text-align:center;padding:3rem;}.score-circle{width:150px;height:150px;border-radius:50%;margin:0 auto 2rem;display:flex;align-items:center;justify-content:center;font-size:3rem;font-weight:bold;color:white;box-shadow:0 4px 15px rgba(0,0,0,.2);}.score-high{background:linear-gradient(135deg,var(--success),#059669);}.score-medium{background:linear-gradient(135deg,var(--warning),#d97706);}.score-low{background:linear-gradient(135deg,var(--danger),#dc2626);}.quiz-progress{background:var(--light);padding:1rem;border-radius:10px;margin-bottom:1.5rem;}footer{background:var(--dark);color:white;padding:3rem 0;margin-top:4rem;}.footer-content{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:2rem;}.footer-section h3{color:var(--secondary);margin-bottom:1rem;}@media(max-width:768px){.hero h1{font-size:2rem;}.sections-grid{grid-template-columns:1fr;}nav ul{flex-direction:column;gap:.5rem;}.modal-content{width:98%;max-height:95vh;}.quiz-controls{flex-direction:column;}.btn{width:100%;}}
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo"><i class="fas fa-shield-alt"></i><span>LCB-FT Academy</span></div>
                <nav><ul><li><a href="#"><i class="fas fa-home"></i> Accueil</a></li><li><a href="#"><i class="fas fa-book"></i> 90 Modules</a></li><li><a href="#"><i class="fas fa-chart-line"></i> Progression</a></li></ul></nav>
            </div>
        </div>
    </header>
    <section class="hero">
        <div class="container">
            <h1><i class="fas fa-graduation-cap"></i> Formation LCB-FT</h1>
            <p>90 modules certifiants ‚Ä¢ Tracfin ANR 2023 ‚Ä¢ Code Mon√©taire et Financier</p>
        </div>
    </section>
    <div class="container">
        <div class="progress-section">
            <h2><i class="fas fa-chart-line"></i> Votre Progression</h2>
            <div class="progress-bar-container"><div class="progress-bar" id="globalProgress"></div></div>
            <p id="progressText">Chargement...</p>
        </div>
        <div id="sectionsContainer" class="sections-grid"></div>
    </div>
    <div id="moduleModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div><h2 id="modalTitle"></h2><p id="modalMeta" style="margin-top:.5rem;font-size:.9rem;"></p></div>
                <button class="close" onclick="closeModal()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section"><h3><i class="fas fa-shield-alt"></i> LCB-FT Academy</h3><p>Plateforme de formation certifiante en compliance</p></div>
                <div class="footer-section"><h3><i class="fas fa-info-circle"></i> Statistiques</h3><p>90 modules ‚Ä¢ 2400+ minutes ‚Ä¢ Certification</p></div>
                <div class="footer-section"><h3><i class="fas fa-user"></i> Expert</h3><p>Imed Chekhab - Compliance Officer</p></div>
            </div>
        </div>
    </footer>
    <script>
let modulesData=null,currentModule=null,currentQuestionIndex=0,userAnswers=[],moduleProgress=JSON.parse(localStorage.getItem('moduleProgress'))||{};async function loadJSON(){try{const e=await fetch('modules-elearning-VERIFIE.json');if(!e.ok)throw new Error('Fichier JSON non trouv√©');modulesData=await e.json(),console.log('‚úÖ JSON Charg√©:',modulesData.total_modules,'modules'),renderSections(),updateGlobalProgress()}catch(e){console.error('‚ùå Erreur:',e),document.getElementById('sectionsContainer').innerHTML=`<div style="grid-column:1/-1;padding:2rem;background:#fee2e2;border-radius:10px;"><h3>‚ö†Ô∏è Erreur de chargement</h3><p>${e.message}</p><p>Assurez-vous que le fichier "modules-elearning-VERIFIE.json" est dans le m√™me dossier.</p></div>`}}function renderSections(){const e=document.getElementById('sectionsContainer'),t=modulesData.sections||{};let s='';for(let i in t){const a=t[i];s+=`<div class="section-card"><div class="section-header"><h2>${a.name}</h2><p>${a.number_of_modules} modules ‚Ä¢ ${a.estimated_duration} minutes</p></div><div class="modules-list">`,a.modules.forEach(t=>{const i=modulesData.all_modules[t];if(i){const a=moduleProgress[t]?'‚úì':'',l=a?'completed':'';s+=`<div class="module-item ${l}" onclick="openModule('${t}')"><div style="display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;"><div style="flex:1;"><strong>${a} ${i.title}</strong><div style="margin-top:.5rem;display:flex;gap:.5rem;align-items:center;"><span class="difficulty-badge ${i.difficulty}">${i.difficulty}</span><span style="font-size:.9rem;"><i class="fas fa-clock"></i> ${i.duration} min</span></div></div><i class="fas fa-chevron-right"></i></div></div>`}}),s+='</div></div>'}e.innerHTML=s}function openModule(e){currentModule=modulesData.all_modules[e],currentModule&&(currentQuestionIndex=0,userAnswers=[],document.getElementById('modalTitle').innerHTML=`<i class="fas fa-book-open"></i> ${currentModule.title}`,document.getElementById('modalMeta').innerHTML=`<span class="difficulty-badge ${currentModule.difficulty}">${currentModule.difficulty}</span><span style="margin-left:1rem;"><i class="fas fa-clock"></i> ${currentModule.duration} min</span><span style="margin-left:1rem;"><i class="fas fa-user"></i> ${currentModule.author}</span>`,renderModuleContent(),document.getElementById('moduleModal').classList.add('show'))}function renderModuleContent(){const e=currentModule.content;let t='';if(t+=`<div class="content-section"><h3><i class="fas fa-file-alt"></i> Cas d'√âtude</h3><p><strong>${e.casestudy.title}</strong></p><p style="margin-top:1rem;">${e.casestudy.content}</p></div>`,e.definitions&&e.definitions.length>0){t+=`<div class="content-section"><h3><i class="fas fa-book"></i> D√©finitions (${e.definitions.length})</h3><div class="definitions-grid">`,e.definitions.forEach(e=>{t+=`<div class="definition-item"><div class="definition-term">${e.term}</div><div>${e.definition}</div></div>`}),t+='</div></div>'}if(e.redflags&&e.redflags.length>0){t+=`<div class="content-section"><h3><i class="fas fa-exclamation-triangle"></i> Signaux d'Alerte (${e.redflags.length})</h3><div class="redflags-list">`,e.redflags.forEach(e=>{const s='high'===e.severity?'fa-exclamation-triangle':'fa-exclamation-circle',i='high'===e.severity?'var(--danger)':'var(--warning)';t+=`<div class="redflag-item ${e.severity}"><i class="fas ${s}" style="color: ${i}; font-size: 1.5rem;"></i><div><strong>${e.severity.toUpperCase()}</strong>: ${e.description}</div></div>`}),t+='</div></div>'}t+=renderQuiz(),document.getElementById('modalBody').innerHTML=t}function renderQuiz(){const e=currentModule.content.quiz,t=e.questions[currentQuestionIndex];let s=`<div class="quiz-section"><h3><i class="fas fa-question-circle"></i> Quiz (${e.questions.length} questions)</h3><div class="quiz-progress">Question <strong>${currentQuestionIndex+1}/${e.questions.length}</strong> | Score requis: ${e.passingscore}%</div><div class="question-card"><div class="question-text"><strong>Q${currentQuestionIndex+1}:</strong> ${t.question}</div><div class="options-grid">`;return t.options.forEach(e=>{const i=userAnswers[currentQuestionIndex]===e.id,a=void 0!==userAnswers[currentQuestionIndex],l=e.correct;let n='option-label';a?l?n+=' correct':i&&!l&&(n+=' incorrect'):i&&(n+=' selected'),s+=`<label class="${n}"><input type="radio" name="question${currentQuestionIndex}" value="${e.id}" ${i?'checked':''} ${a?'disabled':''} onchange="selectAnswer('${e.id}')"><span><strong>${e.id}.</strong> ${e.text}</span></label>`}),s+='</div>',void 0!==userAnswers[currentQuestionIndex]&&t.explanation&&(s+=`<div class="explanation-box"><strong><i class="fas fa-lightbulb"></i> Explication:</strong><p style="margin-top:.5rem;">${t.explanation}</p></div>`),s+=`</div><div class="quiz-controls"><button class="btn btn-outline" onclick="previousQuestion()" ${0===currentQuestionIndex?'disabled':''}><i class="fas fa-arrow-left"></i> Pr√©c√©dent</button><div class="score-display">Score: ${calculateScore()}%</div><button class="btn btn-primary" onclick="nextQuestion()">${currentQuestionIndex<e.questions.length-1?'Suivant':'Terminer'} <i class="fas fa-arrow-right"></i></button></div></div>`,s}function selectAnswer(e){userAnswers[currentQuestionIndex]=e,renderModuleContent()}function nextQuestion(){const e=currentModule.content.quiz;currentQuestionIndex<e.questions.length-1?(currentQuestionIndex++,renderModuleContent()):showResults()}function previousQuestion(){currentQuestionIndex>0&&(currentQuestionIndex--,renderModuleContent())}function calculateScore(){const e=currentModule.content.quiz;let t=0;return userAnswers.forEach((s,i)=>{if(i<e.questions.length&&s){const a=e.questions[i];a.options.find(e=>e.correct).id===s&&t++}}),userAnswers.length>0?Math.round(100*t/e.questions.length):0}function showResults(){const e=calculateScore(),t=currentModule.content.quiz;t.passingscore<=e&&(moduleProgress[currentModule.id]=!0,localStorage.setItem('moduleProgress',JSON.stringify(moduleProgress)),updateGlobalProgress());const s=`<div class="results-section"><h2><i class="fas fa-trophy"></i> R√©sultats</h2><div class="score-circle ${e>=t.passingscore?'score-high':e>=60?'score-medium':'score-low'}">${e}%</div><h3>${e>=t.passingscore?'R√©ussi !':'√Ä Am√©liorer'}</h3><p>${e>=t.passingscore?`üéâ F√©licitations ! ${e}% - Module r√©ussi.`:`üìö Score: ${e}%. Minimum: ${t.passingscore}%.`}</p><div style="margin-top:2rem;"><button class="btn btn-primary" onclick="closeModal()" style="width:100%;margin-bottom:1rem;"><i class="fas fa-check"></i> Continuer</button><button class="btn btn-outline" onclick="openModule('${currentModule.id}')" style="width:100%;"><i class="fas fa-redo"></i> Refaire</button></div></div>`;document.getElementById('modalBody').innerHTML=s}function updateGlobalProgress(){const e=Object.keys(modulesData.all_modules).length,t=Object.keys(moduleProgress).length,s=e>0?Math.round(100*t/e):0;document.getElementById('globalProgress').style.width=s+'%',document.getElementById('progressText').textContent=`${t} modules compl√©t√©s sur ${e} (${s}%)`,renderSections()}function closeModal(){document.getElementById('moduleModal').classList.remove('show'),currentModule=null,currentQuestionIndex=0,userAnswers=[]}window.onclick=function(e){e.target===document.getElementById('moduleModal')&&closeModal()},document.addEventListener('DOMContentLoaded',loadJSON);
    </script>
</body>
</html>